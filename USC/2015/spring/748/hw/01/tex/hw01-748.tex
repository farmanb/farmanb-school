\documentclass[10pt]{amsart}
\usepackage{amsmath,amsthm,amssymb,amsfonts,enumerate,mymath,mathtools,tikz-cd,mathrsfs}
\openup 5pt
\author{Blake Farman\\University of South Carolina}
\title{Math 748:\\Homework 01}
\date{February 4, 2015}
\pdfpagewidth 8.5in
\pdfpageheight 11in
\usepackage[margin=1in]{geometry}

\begin{document}
\maketitle

\providecommand{\p}{\mathfrak{p}}
\providecommand{\m}{\mathfrak{m}}
\providecommand{\Deck}[1]{\operatorname{Deck}\left(#1\right)}
%\newcommand{\Res}{\operatorname{Res}}
\newtheorem{thm}{Theorem}
\newtheorem{ex}{}
\newtheorem{lem}{Lemma}
\newtheorem{prop}{Proposition}
\theoremstyle{definition}
\newtheorem{defn}{Definition}

\newcommand{\A}{\mathbb{A}}

\begin{lem}\label{lem1}
  Let $\mathcal{A}$ be an additive category.
  \begin{enumerate}[(a)]
  \item
    A morphism $\varphi: A \rightarrow B$ is monic if and only if whenever the diagram
    $$\begin{tikzcd}
      Z \arrow[shift left = 0.75ex]{r}{\zeta} \arrow[shift right=0.75ex, swap]{r}{0}& A\arrow{r}{\varphi} & B
    \end{tikzcd}
    $$
    commutes, then $\zeta = 0$.
  \item
    A morphism $\varphi: A \rightarrow B$ is epic if and only if whenever the diagram
    $$\begin{tikzcd}
      A\arrow{r}{\varphi} & B \arrow[shift left = 0.75ex]{r}{\zeta} \arrow[shift right=0.75ex, swap]{r}{0} & Z
    \end{tikzcd}
    $$
    commutes, then $\zeta = 0$.
  \end{enumerate}
  \begin{proof}
    \begin{enumerate}[(a)]
    \item
      First we observe that given any commutative diagram
      $$\begin{tikzcd}
	Z \arrow[shift left = 0.75ex]{r}{\zeta_1} \arrow[shift right=0.75ex, swap]{r}{\zeta_2}& A\arrow{r}{\varphi} & B
      \end{tikzcd}$$
      we have
      $$0 = \varphi \circ \zeta_1 - \varphi \circ \zeta_2 = \varphi \circ (\zeta_1 - \zeta_2)$$
      and so we obtain the commutative diagram
      $$\begin{tikzcd}
	Z \arrow[shift left = 0.75ex]{r}{\zeta} \arrow[shift right=0.75ex, swap]{r}{0}& A\arrow{r}{\varphi} & B
      \end{tikzcd}$$
      by letting $\zeta = \zeta_1 - \zeta_2$.
      It is then clear that $\zeta = 0$ if and only if $\varphi$ is monic.
    \item
      First we observe that given any commutative diagram
      $$\begin{tikzcd}
	A\arrow{r}{\varphi} & B \arrow[shift left = 0.75ex]{r}{\zeta_1} \arrow[shift right=0.75ex, swap]{r}{\zeta_2}& Z
      \end{tikzcd}$$
      we have
      $$0 = \zeta_1 \circ \varphi - \zeta_2 \circ \varphi = (\zeta_1 - \zeta_2) \circ \varphi $$
      and so we obtain the commutative diagram
      $$\begin{tikzcd}
	A\arrow{r}{\varphi} & B \arrow[shift left = 0.75ex]{r}{\zeta} \arrow[shift right=0.75ex, swap]{r}{0} & Z
      \end{tikzcd}$$
      by letting $\zeta = \zeta_1 - \zeta_2$.
      It is then clear that $\zeta = 0$ if and only if $\varphi$ is epic.
    \end{enumerate}
  \end{proof}
\end{lem}

\begin{lem}\label{lem2}
  In an additive category, $\mathcal{A}$, kernels are monic and cokernels are epic.
  \begin{proof}
    Let $\varphi : A \rightarrow B$ be a morphism of $\mathcal{A}$ with kernel $m : K \rightarrow A$.
    By Lemma~\ref{lem1}, it suffices to show that if we have a commutative diagram
    $$\begin{tikzcd}
      Z \arrow[shift left = 0.75ex]{r}{\zeta} \arrow[shift right=0.75ex, swap]{r}{0}& K\arrow{r}{m} & A
    \end{tikzcd}$$
    then $\zeta = 0$.
    By the universal property for kernels, we have the diagram
    $$\begin{tikzcd}
      Z \arrow{r}{0} \arrow[dotted,swap]{rd}{\exists ! h}& A \arrow{r}{\varphi} & B\\
      & K \arrow{u}{m}
    \end{tikzcd}$$
    Since taking $h= 0 $ or $h = \zeta$ makes the diagram commute, we see that uniqueness forces $\zeta = 0$.
    
    Let $\varphi : A \rightarrow B$ be a morphism of $\mathcal{A}$ with cokernel $e : B \rightarrow C$.
    By Lemma~\ref{lem1}, it suffices to show that if we have a commutative diagram
    $$\begin{tikzcd}
      B\arrow{r}{e} & C \arrow[shift left = 0.75ex]{r}{\zeta} \arrow[shift right=0.75ex, swap]{r}{0} & Z
    \end{tikzcd}$$
    then $\zeta = 0$.
    By the universal property for cokernels, we have the diagram
    $$\begin{tikzcd}
      A \arrow{r}{\varphi} & B \arrow{d}{e}\arrow{r}{0} & Z\\
      & C \arrow[dotted,swap]{ur}{\exists ! h}
    \end{tikzcd}$$
    Since taking $h= 0 $ or $h = \zeta$ makes the diagram commute, we see that uniqueness forces $\zeta = 0$.
  \end{proof}
\end{lem}

\begin{lem}\label{lem3}
  Let $\mathcal{A}$ be an additive category.
  \begin{enumerate}[(a)]
  \item
    If $\varphi : A \rightarrow B$ has a kernel, then $\varphi$ is monic if and only if $0 \rightarrow A$ is its kernel.
  \item
    If $\varphi : A \rightarrow B$ has a cokernel, the n$\varphi$ is epic if and only if $B \rightarrow 0$ is its kernel.
  \end{enumerate}

  \begin{proof}
    \begin{enumerate}[(a)]
    \item
      Suppose $\varphi$ is a monic with kernel $m : K \rightarrow A$.
      We have by assumption the commutative diagram
      $$\begin{tikzcd}
	K \arrow[shift left = 0.75ex]{r}{m} \arrow[shift right=0.75ex, swap]{r}{0}& A\arrow{r}{\varphi} & B
      \end{tikzcd}$$
      which, by Lemma~\ref{lem1}, forces $m = 0$.
      Let $\zeta : Z \rightarrow A$ be any map such that $\varphi \circ \zeta = 0$.
      By the universal property for kernels and the fact that $m$ factors uniquely through the zero object, the commutative diagram
      $$\begin{tikzcd}
	Z \arrow[dotted]{rd}{\exists ! h^\prime}\arrow[dotted,swap]{rdd}{\exists ! h} \arrow{r}{\zeta} & A \arrow{r}{\varphi} & B\\
	& 0 \arrow{u}\\
	& C \arrow{u} \arrow[bend right,swap]{uu}{m}
      \end{tikzcd}$$
      which shows that the zero object is a kernel for $\varphi$.
      Since kernels are universal there exists a unique isomorphism $0 \cong K$, as desired.
      
      Conversely, suppose that $0 \rightarrow A$ is the kernel of $\varphi : A \rightarrow B$.
      Given a morphism $\zeta : Z \rightarrow A$ such that $\varphi \circ \zeta = 0$, we have the diagram
      $$\begin{tikzcd}
	Z \arrow[dotted,swap]{rd}{\exists ! h} \arrow{r}{\zeta} &A \arrow{r} &B\\
	& 0\arrow{u}
      \end{tikzcd}$$
      and so it is clear that $\zeta = 0$.
      Therefore $\varphi$ is monic by Lemma~\ref{lem1}.
    \item
      Suppose $\varphi$ is a epic with cokernel $e : B \rightarrow C$.
      We have by assumption the commutative diagram
      $$\begin{tikzcd}
	A\arrow{r}{\varphi} & B \arrow[shift left = 0.75ex]{r}{e} \arrow[shift right=0.75ex, swap]{r}{0} & C
      \end{tikzcd}$$
      which, by Lemma~\ref{lem1}, forces $e = 0$.
      Let $\zeta : B \rightarrow Z$ be any map such that $\zeta \circ \varphi = 0$.
      By the universal property for kernels and the fact that $e$ factors uniquely through the zero object, we have the commutative diagram
      $$\begin{tikzcd}
	A \arrow{r}{\varphi}& B \arrow[bend right,swap]{dd}{e}\arrow{d}\arrow{r}{\zeta}& Z\\
	& 0\arrow{d}\arrow[dotted]{ru}{\exists ! h'}\\
	& C\arrow[dotted, swap]{ruu}{\exists ! h}
      \end{tikzcd}$$
      which shows that the zero object is a cokernel for $\varphi$.
      Since cokernels are universal there exists a unique isomorphism $0 \cong  K$, as desired.
      
      Conversely, suppose that $B \rightarrow 0$ is the cokernel of $\varphi : A \rightarrow B$.
      Given a morphism $\zeta : B \rightarrow Z$ such that $\zeta \circ \varphi= 0$, we have the diagram
      $$\begin{tikzcd}
	A \arrow{r}{\varphi}& B \arrow{d} \arrow{r}{\zeta} & Z\\
	& 0\arrow[dotted,swap]{ur}{\exists ! h}
      \end{tikzcd}$$
      and so it is clear that $\zeta = 0$.
      Therefore $\varphi$ is epic by Lemma~\ref{lem1}.
    \end{enumerate}
  \end{proof}
\end{lem}

\begin{lem}\label{lem4}
  In an abelian category $\mathcal{A}$, every kernel is the kernel of its cokernel and every cokernel is cokernel of its kernel.

  \begin{proof}
    Let $\varphi : A \rightarrow B$ be a morphism of $\mathcal{A}$, let $m : K \rightarrow A$ be its kernel, and let $e : A \rightarrow C$ be the cokernel of $m$.
    Since $\varphi \circ m = 0$ we have by the universal property for cokernels the diagram
    $$\begin{tikzcd}
      K \arrow{r}{m} &A \arrow{r}{\varphi} \arrow{rd}{e} & B\\
      & & C\arrow[swap,dotted]{u}{\exists ! h}
    \end{tikzcd}$$
    Let $\zeta : Z \rightarrow A$ be any map such that $e \circ \zeta = 0$.
    As $m : K \rightarrow A$ is the kernel of $\varphi : A \rightarrow B$, we have the diagram
    $$\begin{tikzcd}
      Z \arrow{rd}{\zeta} \arrow[swap, dotted]{d}{\exists !h^\prime}\arrow[bend left]{rrd}{0}\\
      K \arrow{r}{m} & A\arrow{r}{\varphi} \arrow{rd}{e}& B\\
      & & C \arrow[dotted,swap]{u}{\exists ! h}
    \end{tikzcd}$$
    since 
    $$\varphi \circ \zeta = (h \circ e) \circ \zeta = h \circ (e \circ \zeta) = h \circ 0 = 0.$$
    Therefore $m : K \rightarrow A$ is indeed the kernel of $e : A \rightarrow C$, as desired.

    Let $\varphi : A \rightarrow B$ be a morphism of $\mathcal{A}$, let $e : B \rightarrow C$ be its cokernel, and let $m : K \rightarrow B$ be the kernel of $e$.
    Since $e \circ \varphi = 0$ we have by the universal property for kernels the diagram
    $$\begin{tikzcd}
      A \arrow{r}{\varphi}\arrow[dotted,swap]{d}{\exists ! h} & B \arrow{r}{e} & C\\
      K \arrow{ur}{m}
    \end{tikzcd}$$
    Let $\zeta : B \rightarrow Z$ be any map such that $\zeta \circ m = 0$.
    As $e : B \rightarrow C$ is the cokernel of $\varphi : A \rightarrow B$, we have the diagram
    $$\begin{tikzcd}
      A \arrow{r}{\varphi}\arrow[dotted,swap]{d}{\exists ! h} & B \arrow{r}{e}\arrow{rd}{\zeta} & C \arrow[dotted]{d}{\exists ! h^\prime}\\
      K \arrow{ur}{m}\arrow{rr}{0} & & Z
    \end{tikzcd}$$
    since 
    $$\zeta \circ \varphi = \zeta \circ (m \circ h) = (\zeta \circ m) \circ h = 0 \circ h = 0.$$
    Therefore $e : B \rightarrow C$ is indeed the cokernel of $m : A \rightarrow C$, as desired.
  \end{proof}
\end{lem}

\begin{ex}\label{Ex1}
  In the additive category $\mathcal{A} = R\text{-mod}$, show that
  \begin{enumerate}[(a)]
  \item
    The notions of kernels, monics, and epimorphisms are the same.
  \item
    The notions of cokernels, epis, and epimorphisms are the same.
  \end{enumerate}
  \begin{proof}
    Let $\varphi : A \rightarrow B$ be a morphism of $\mathcal{A}$.
    Define $\ker\varphi = \left\{ a \in A \;\middle\vert\; \varphi(a) = 0\right\}$ and $\coker\varphi = B/\im\varphi$, which are both clearly $R$-modules.
    First we show that $\imath : \ker\varphi \rightarrow A$ is a kernel.
    Towards that end, let $\zeta : Z \rightarrow A$ be a morphism such that $\varphi \circ \zeta = 0$.
    Then it is clear that the codomain of $\zeta$ must be $\ker\varphi$ since $\zeta(z) \in \ker\varphi$ for each $z \in Z$, so we see that $\zeta = \imath \circ \zeta$.
    For uniqueness, suppose that $\zeta^\prime : A \rightarrow \ker\varphi$ is any other map such that the diagram
    $$\begin{tikzcd}
      Z \arrow[swap]{d}{\zeta^\prime} \arrow{r}{\zeta} &A \arrow{r}{\varphi} &B \\
      \ker\varphi\arrow{ru}{\imath}
    \end{tikzcd}$$
    commutes.
    Then for each $z \in Z$ we have $\zeta(z) = i \circ \zeta^\prime(z) = \zeta^\prime(z)$ and so $\zeta = \zeta^\prime$, as desired.
    Therefore $\ker\varphi$ is a kernel.

    Next we show that $\pi : B \rightarrow B/\im\varphi$ is a cokernel.
    Towards that end, let $\zeta : B \rightarrow Z$ be a morphism such that $\zeta \circ \varphi = 0$.
    Define the map
    \begin{align*}
      \tilde{\zeta} : B/\im\varphi &\rightarrow Z\\
      b + \im\varphi &\mapsto \zeta(b).
    \end{align*}
    This map is well defined, for if $b + \im\varphi = b^\prime + \im\varphi$, there exists some $a \in \varphi^{-1}(b - b^\prime)$, so it follows that
    $$\tilde{\zeta}(b + \im\varphi) - \tilde{\zeta}(b^\prime + \im\varphi) = \zeta(b) - \zeta(b^\prime) = \zeta(b - b^\prime) = \zeta \circ \varphi(a) = 0.$$
    For uniqueness, suppose that $\psi : B/\im\varphi \rightarrow Z$ is another map such that the diagram
    $$\begin{tikzcd}
      A \arrow{r}{\varphi} & B \arrow{d}{\pi} \arrow{r}{\zeta} & Z\\
      & B/\im\varphi \arrow{ur}{\psi}
    \end{tikzcd}$$
    commutes.
    Given any element $b + \im\varphi \in B/\im\varphi$, we see that by surjectivity of $\pi$ that
    $$\tilde{\zeta}(b + \im\varphi) = \zeta(b) = \psi \circ \pi(b) = \psi(b + \im\varphi)$$
    and so $\tilde{\zeta}$ is unique.
    Therefore $B/\im\varphi$ is a cokernel.
    
    We now note that since we have shown that every morphism has a kernel and a cokernel, Lemma~\ref{lem3} implies every monic (resp. epic) $R$-module homomorphism has zero kernel (resp. cokernel).
    If $\varphi : A \rightarrow B$ is a morphism, then we see that for any $a, a^\prime \in A$, $\varphi(a) = \varphi(a^\prime)$ if and only if
    $$0 = \varphi(a) - \varphi(a^\prime) = \varphi(a - a^\prime),$$
    or equivalently, $a - a^\prime \in \ker\varphi$.
    Since $\varphi$ is monic if and only if $\ker\varphi = 0$, we see that $\varphi$ is monic if and only if $\varphi$ is injective.
    Similarly, $b \in \im\varphi$ if and only if the image of $b$ is zero in the quotient $B/\im\varphi$.
    So it follows that $\varphi$ is epic if and only if $\varphi$ is surjective.

    Furthermore, by Lemma~\ref{lem2}, we know that every kernel is necessarily monic and every cokernel is epic, so it remains to show that every monic is a kernel and every epic is a cokernel.
    First we show that if $\varphi : A \rightarrow B$ is monic, then $\varphi$ is the kernel of its cokernel.
    Since $\varphi$ is monic it is also injective and so we may identify $A$ as a submodule of $B$ and the cokernel is $\pi : B \rightarrow B/A$.
    Then for any $\zeta : Z \rightarrow B$ such that $\pi \circ \zeta = 0$, we have $\im\zeta \subseteq A$ and this inclusion gives the desired unique map making the kernel diagram
    $$\begin{tikzcd}
      Z \arrow{r}{\zeta}\arrow[dotted]{rd}{\exists !} &B\arrow{r}{\pi} & B/A\\
      & A\arrow{u}{\varphi}
    \end{tikzcd}$$
    commute.
    Hence $\varphi : A \rightarrow B$ is the kernel of $\pi : B \rightarrow B/A$.

    Similarly, if $\varphi : A \rightarrow B$ is epic, hence surjective, then we show that $\varphi: A \rightarrow B$ is the cokernel of its kernel.
    If the kernel of $\varphi$ is the map $\imath : \ker\varphi \rightarrow A$, suppose that $\zeta : A \rightarrow Z$ is a morphism such that $\zeta \circ \imath = 0$.
    Then we define a map $\psi : B \rightarrow Z$ in the following way: given $b \in B$, choose $a \in \varphi^{-1}(b)$ and define $\psi(b) = \zeta(a)$.
    This map is well-defined, for if $a, a^\prime \in \varphi^{-1}(b)$, then it's clear that $a - a^\prime \in \ker\varphi$, and since $\zeta \circ \imath = 0$, we have    
    $$\zeta(a) - \zeta(a^\prime) = \zeta(a - a^\prime) = 0,$$
    which shows that $\psi(b)$ is independent of the choice of representative in the fiber.
    This map is a homomorphism, for if $a \in \varphi^{-1}(b)$ and $a^\prime \in \varphi^{-1}(b^\prime)$ and $r \in R$, we have
    $$\varphi(ra + a^\prime) = r\varphi(a) + \varphi(a^\prime) = rb + b^\prime,$$
    and hence
    $$\psi(rb + b^\prime) = \zeta(ra + a^\prime) = r\zeta(a) + \zeta(a^\prime) = r\psi(b) + \psi(b^\prime).$$
    It's clear that this is the unique map that makes the cokernel diagram
    $$\begin{tikzcd}
      \ker\varphi \arrow{r}{\imath} & A \arrow{d}{\varphi} \arrow{r}{\zeta} &Z\\
      & B\arrow[dotted,swap]{ur}{\exists ! \psi}
    \end{tikzcd}$$
    commute.
    Therefore $\varphi : A \rightarrow B$ is the cokernel of $\imath : \ker\varphi \rightarrow A$.
    Finally, we note that this establishes $\mathcal{A}$ as an abelian category, so by Lemma~\ref{lem4} we see that every kernel and cokernel arises in this manner, establishing the desired equivalence.
  \end{proof}
\end{ex}

\begin{lem}\label{lem5}
  Let $C$ be a chain complex with boundaries $B_n$ and cycles $Z_n$ in $C_n$.
  If $C$ is split, then as $R$-modules $C_n \cong Z_n \oplus B_{n-1}$ and $Z_n \cong H_n(C) \oplus B_n$.

  \begin{proof}
    Let $s_n : C_n \rightarrow C_{n+1}$ be the splitting maps.
    First we show that $B_n = \im ds$ and $B_{n-1} \cong \im sd$.
    It's clear that $\im ds \subseteq B_n$.
    Given an element $\alpha \in B_n$, there is some $\beta \in C_{n+1}$ such that $\alpha = d(\beta)$ and hence
    $$\alpha = d(\beta) = dsd(\beta) = ds(d(\beta))= ds(\alpha)$$
    so that $B_n \subseteq \im ds$ and thus $B_n = \im ds$.

    For the isomorphism $B_{n-1} \cong \im sd$, we show that $d \colon \im sd \rightarrow B_{n-1}$ is an isomorphism.
    For injectivity, suppose that $\alpha \in \im sd$ and $d(\alpha) = 0$.
    Then for some $\alpha^\prime \in C_n$ we have
    $$0 = d(\alpha) = d(sd(\alpha^\prime)) = dsd(\alpha^\prime) = d(\alpha^\prime)$$
    so that $\alpha = sd(\alpha^\prime) = 0$.
    Note that this implies $\im sd \cap Z_n = 0$.

    Next we show that $H_n(C) \cong \ker sd + ds \subseteq Z_n$.
    Given an element $\alpha \in \ker ds + sd$, we first note that
    $$0 = d(ds + sd(\alpha)) = dds(\alpha) + dsd(\alpha) = d(\alpha),$$
    so that $\alpha \in \ker d$ and thus we have a well-defined morphism
    \begin{align*}
      \ker sd + ds & \rightarrow H_n(C)\\
      \alpha &\mapsto [\alpha].
    \end{align*}
    Given $\alpha \in \ker sd + ds$ such that $[\alpha] = 0$, choose $\beta \in C_{n+1}$ such that $\alpha = d(\beta)$.
    Then from
    $$0 = sd(\alpha) + ds(\alpha) = sdd(\beta) + dsd(\beta) = d(\beta) = \alpha$$
    we see that $\varphi$ is injective.
    For surjectivity, let $[\alpha] \in H_n(C)$ be given.
    Since $\alpha \in \ker d$ and $dsd(\alpha) = d(\alpha)$, it follows that $\alpha - ds(\alpha) \in \ker d$, $[\alpha] = [\alpha - ds(\alpha)]$, and 
    \begin{eqnarray*}
      sd(\alpha - ds(\alpha)) + ds(\alpha - ds(\alpha)) &=& sd(\alpha) + ds(\alpha) - sdds(\alpha) - dsds(\alpha)\\
      &=& ds(\alpha) - ds(\alpha)\\
      &=& 0
    \end{eqnarray*}
    so that $\alpha - ds(\alpha) \in \ker sd + ds$.

    To establish the isomorphism $C_n \cong B_{n-1} \oplus Z_n$, we identify $B_{n-1}$ with the image of the map $sd$.
    Given $\alpha \in C_n$, we have
    $$d(\alpha - sd(\alpha)) = d(\alpha) - dsd(\alpha) = d(\alpha) - d(\alpha) = 0$$
    and so we see that since $\alpha = (\alpha - sd(\alpha)) + sd(\alpha)$, we get that $C_n = Z_n + \im sd$.
    Directness now follows from the fact that $Z_n \cap \im sd = 0$.
    Therefore $C_n = Z_n \oplus \im sd \cong Z_n \oplus B_{n-1}$.

    For the isomorphism $Z_n \cong B_n \oplus H_n(C)$, we identify $H_n(C)$ with $\ker sd + ds$.
    Let $\alpha \in Z_n$ be given and observe that since $d(\alpha) = 0$ we have
    $$ds + sd(\alpha) = ds(\alpha) + s(0) = ds(\alpha)$$
    so that 
    $$ds + sd(\alpha - ds(\alpha)) = ds + sd(\alpha) - ds + sd(ds(\alpha)) = ds(\alpha) - dsds(\alpha) - sdds(\alpha) = ds(\alpha) - dsds(\alpha) = 0$$
    and thus $\alpha - ds(\alpha) \in \ker ds + sd$.
    Since we may write $\alpha = sd(\alpha) + (\alpha - ds(\alpha))$, we see that $Z_n = B_n + \ker ds + sd$.
    For directness, assume that $\alpha \in B_n \cap \ker sd + sd$.
    For some $\beta \in C_{n+1}$ we have $\alpha = d(\beta)$, so we see that
    $$0 = sd(\alpha) + ds(\alpha) = sdd(\beta) + dsd(\beta) = d(\beta) = \alpha.$$
    Therefore $Z_n = B_n \oplus \ker ds + sd \cong B_n \oplus H_n(C)$.
  \end{proof}
\end{lem}

\begin{ex}\label{Ex2}
  Consider the homology complex $H_*(C)$ of a complex $C$ as a chain complex with differentials equal to zero
  Show that if the complex $C$ is split, then there is a chain homotopy equivalence between $C$ and $H_*(C)$.

  \begin{proof}
    Suppose that $s_n : C_n \rightarrow C_{n+1}$ is a set of maps such that $dsd = d$.
    By Lemma~\ref{lem5} we have that $C_n = \im ds \oplus \ker ds + sd \oplus \im sd$, so given an element $\alpha \in C_n$ we may write $\alpha = ds(\alpha^\prime) + h + sd(\alpha^{\prime\prime})$, where $h \in \ker ds + sd$.
    Hence
    \begin{eqnarray*}
      ds(\alpha) + sd(\alpha) &=& (ds + sd)(ds(\alpha^\prime)) + (ds + sd) sd(\alpha^{\prime\prime})\\
      &=& ds(\alpha^\prime) + sd(\alpha^{\prime\prime})
    \end{eqnarray*}
    implies by uniqueness of representation that $ds(\alpha) = ds(\alpha^\prime)$ and $sd(\alpha) = sd(\alpha^{\prime\prime})$, so that $\alpha - (sd + ds)(\alpha) = h$.
    Then there are well-defined morphisms
    \begin{align*}
      f_n \colon C_n &\rightarrow H_n(C)\\
      \alpha &\mapsto [\alpha - (sd + ds)(\alpha)]
    \end{align*}
    and
    %\begin{align*}
    %  g_n \colon H_n(C) &\rightarrow C_n\\
    %  [\alpha] &\mapsto \alpha - ds(\alpha)
    %\end{align*}
    $g_n : H_n(C) \cong \ker ds + sd \rightarrow Z_n \rightarrow C_n$.
    To see that $f$ is a chain map, it suffices to show that $fd = 0$, as the differentials on $H_*(C)$ are all zero.
    But this follows from that fact that $\im d \subseteq B_{n-1}$ and $C_{n-1} \cong B_{n-1} \oplus H_{n-1}(C) \oplus B_{n-2}$.
    It's clear that $g$ is a chain map as $\im g \subseteq \ker ds + sd \subseteq Z_n$ implies $dg = 0 = gd$.

    Now if $\alpha \in C_n$, then we have by the fact that $g$ is an isomorphism onto $\ker ds + sd$ and $\alpha - (ds + sd)(\alpha) \in \ker ds + sd$, that
    $$\alpha - gf(\alpha) = \alpha - g([\alpha - (ds + sd)(\alpha)]) = \alpha - \alpha + (ds + sd)(\alpha) = (ds + sd)(\alpha).$$
    Now if we are given a class $[\alpha] \in H_n(C)$, then we have that
    $$\alpha - (ds + sd)(\alpha) = \alpha - ds(\alpha) \in \ker ds + sd,$$
    so it must be the case that $g([\alpha]) = \alpha - ds(\alpha)$.
    Noting that $d(\alpha) = 0$, we see that
    \begin{eqnarray*}
      [\alpha] - fg([\alpha]) &=& [\alpha] - f(\alpha - ds(\alpha))\\
      &=& [\alpha] - [\alpha - ds(\alpha) - (sd + ds)(\alpha - ds(\alpha))]\\
      &=& [\alpha] - [\alpha - ds(\alpha) - sd(\alpha) - ds(\alpha) + sdds(\alpha) + dsds(\alpha)]\\
      &=& [\alpha] - [\alpha - ds(\alpha) - ds(\alpha) + ds(\alpha)]\\
      &=& [\alpha] - [\alpha - ds(\alpha)]\\
      &=& [\alpha] - [\alpha]\\
      &=& 0.
    \end{eqnarray*}
    Therefore there is a homotopy chain equivalence, as desired.
  \end{proof}
\end{ex}

\begin{ex}
  Give an example in which the converse of the statement from Problem~\ref{Ex2} fails.
\end{ex}

\begin{ex}
  Let $f : C \rightarrow D$ be a map of complexes.
  Show that $f$ is null homotopic if and only if $f$ extends to a map $-s + f : \cone{C} \rightarrow D$.
  
  \begin{proof}
    First we note that from the diagram
    $$\begin{tikzcd}
      C_{n-1}\arrow[bend right, swap]{rdd}{-1_C} \arrow{rd}{\imath_1} & & C_n \arrow[swap]{ld}{\imath_2} \arrow[bend left]{ldd}{d}\\
      & C_{n-1} \oplus C_n \arrow[dotted]{d}{\exists ! d - 1}& \\
      & C_{n-1} &
    \end{tikzcd}$$
    so we may represent the differential on $\cone{C}$ as $(d^C, d^C - 1)$.
    
    Assume that $f$ is null homotopic with maps $s_n : C_n \rightarrow D_{n+1}$ such that $f = sd + ds$.
    We have by the universal property for coproducts the commutative diagram
    $$\begin{tikzcd}
      C_{n-1}\arrow[bend right, swap]{rdd}{-s} \arrow{rd}{\imath_1} & & C_n \arrow[swap]{ld}{\imath_2} \arrow[bend left]{ldd}{f}\\
      & C_{n-1} \oplus C_n \arrow[dotted]{d}{\exists ! -s + f}& \\
      & D_n &
    \end{tikzcd}$$
    Since $f = sd^C + d^Ds$ and $d^Df = fd^C$, it follows that 
    \begin{eqnarray*}
      d^D(-s + f) &=& -d^Ds + d^Df\\
      &=& sd^C - f + d^Df\\
      &=& sd^C - f + fd^C\\
      &=& sd^C + f(d^c - 1)\\
      &=& (-s + f)(-d^C, d^C - 1)\\
      &=& (-s + f)d^{\cone{C}}
    \end{eqnarray*}
    so that $f$ extends to a chain map, as desired.

    Conversely, suppose that $f$ extends to a chain map $-s + f : \cone{C} \rightarrow D$.
    We have morphisms
    $$\begin{tikzcd}
      C_{n} \arrow{r}\arrow{rd}{s} & C_n \oplus C_{n+1}\arrow{d}{-s + f}\\
      & D_{n + 1}
    \end{tikzcd}$$
    which makes the diagrams
    $$\begin{tikzcd}
      C_n \arrow[bend right]{rdd}{s} \arrow{rd} & & C_{n+1}\arrow{ld}\arrow[bend left]{ldd}\\
      & C_n \oplus C_{n+1}\arrow{d}{-s + f} & \\
      & D &
    \end{tikzcd}$$
    commute, which we propose gives the null homotopy $f = sd + ds$.
    By assumption we have
    $$d^D(-s + f) = (-s + f)d^{\cone{C}}$$
    so we see by computing both that we have
    \begin{eqnarray*}
      (-s + f)d^{\cone{C}} &=& -s(-d^C) + f(d^C - 1_C)\\
      &=&(-s + f)(d^C, d^C - 1_C)\\
      &=& sd^C + fd^C - f\\
      &=& sd^C + d^Df - f\\
    \end{eqnarray*}
    and
    $$d^D(-s + f) = -d^Ds + d^Df.$$
    Equating these two it then follows from
    $$sd^C + d^Df - f = -d^Ds + d^Df$$
    that $f = sd + ds$, as desired.
  \end{proof}
\end{ex}

\begin{lem}\label{lem6}
  Let $\mathcal{A}$ be an abelian category.
  A morphism $\varphi : A \rightarrow B$ is an isomorphism if and only if $\varphi$ is both a monomorphism and an epimorphism.

  \begin{proof}
    First assume that $\varphi$ is an isomorphism.
    If $\zeta : Z \rightarrow A$ is any morphism such that $\varphi \circ \zeta = 0$, then we have
    $$0 = \varphi \circ \zeta = \varphi^{-1} \circ (\varphi \circ \zeta) = (\varphi^{-1} \circ \varphi \circ \zeta) = \zeta.$$
    Similarly, if $\zeta : B \rightarrow Z$ is any morphism such that $\zeta \circ \varphi = 0$, then
    $$0 = \zeta \circ \varphi = (\zeta \circ \varphi) \circ \varphi^{-1} = \zeta \circ (\varphi \circ \varphi^{-1}) = \zeta.$$

    Conversely, suppose $\varphi$ is both a monomorphism and an epimorphism.
    Since $\varphi$ is monic, we have $\varphi = \ker\coker\varphi$ and thus we have the commutative diagram
    $$\begin{tikzcd}
      B\arrow[dotted,swap]{rd}{\exists !h} \arrow[bend left]{rr}{0}\arrow{r}{1_B} & B\arrow[swap]{r}{\coker\varphi} & 0\\
      & A\arrow{u}{\varphi} &
    \end{tikzcd}$$
    Also, since $\varphi$ is epic, we have $\varphi = \coker\ker\varphi$ and thus we have the commutative diagram
    $$\begin{tikzcd}
      0 \arrow[bend left]{rr}{0}\arrow[swap]{r}{\ker\varphi} & A \arrow{r}{1_A} \arrow{d}{\varphi} & A\\
      & B\arrow[swap, dotted]{ur}{\exists ! h^\prime} &
    \end{tikzcd}$$
    Now we see that
    $$\varphi \circ (h^\prime \circ \varphi) = \varphi \circ 1_A = \varphi = 1_B \circ \varphi = (\varphi \circ h) \circ \varphi = \varphi \circ (h \circ \varphi)$$
    implies, since $\varphi$ is monic, that $h^\prime \circ \varphi = h \circ \varphi$, and then the fact that $\varphi$ is epic implies $h = h^\prime$.
    Therefore $\varphi$ is an isomorphism with inverse $h$.
  \end{proof}
\end{lem}

\begin{defn}
  Let $\varphi \colon A \rightarrow B$ be a morphism in an abelian category.
  The image of $\varphi$, $\im\varphi$, is $\ker(\coker(\varphi))$, and the coimage, $\coim\varphi$, is $\coker(\ker\varphi)$.
\end{defn}

\begin{lem}\label{lem7}
  Let $\varphi : A \rightarrow B$ be a morphism in an abelian category.
  Then
  \begin{enumerate}[(i)]
  \item
    $\im\varphi$ is a monomorphism,
  \item
    $\varphi$ factors through $\im\varphi$,
  \item
    $\im\varphi$ is initial with these properties.
  \end{enumerate}
  Similarly, we have the dual statement
  \begin{enumerate}[(i)]
  \item
    $\coim\varphi$ is an epimorphism,
  \item
    $\varphi$ factors through $\coim\varphi$
  \item
    $\coim\varphi$ is final with these properties.
  \end{enumerate}

  \begin{proof}
    We prove the result for $\im\varphi$ and then note that the argument for the dual statement follows by passing to the opposite category.
    The first statement follows from Lemma~\ref{lem2}.
    The second statement follows from the universal property for kernels,
    $$\begin{tikzcd}
      A \arrow[swap,dotted]{rd}{\exists !\tilde{\varphi}}\arrow{r}{\varphi}\arrow[bend left]{rr}{0}& B \arrow[swap]{r}{\coker\varphi} \arrow{r} & C\\
      & K \arrow[swap]{u}{\im\varphi} &
    \end{tikzcd}$$
    For the third statement, suppose $\lambda : L \rightarrow B$ is another monomorphism through which $\varphi$ factors.
    We have the commutative diagram
    $$\begin{tikzcd}
      & L \arrow{dr}{\lambda}& &\\
      A \arrow[bend right]{drrr}{0}\arrow[bend right]{rr}{\varphi} \arrow{ur}{\tilde{\lambda}}\arrow{r}{\tilde\varphi} & K \arrow{r}{\im\varphi} & B \arrow[swap]{rd}{\coker\lambda}\arrow{r}{\coker\varphi} & C \arrow[dotted]{d}{\exists !h}\\
      & & & C^\prime
    \end{tikzcd}$$
    since
    $$\coker\lambda \circ \varphi = \coker\lambda \circ (\lambda \circ \tilde{\lambda}) = 0.$$
    Now we note that $\lambda$ is monic, hence it is the kernel of its cokernel by Lemma~\ref{lem4}.
    Therefore we have the commutative diagram
    $$\begin{tikzcd}
      K\arrow{r}{\im\varphi} \arrow[dotted]{rd}{\exists !}& B\arrow{r}{\coker\lambda} & C^\prime\\
      & L\arrow{u}{\lambda} &
    \end{tikzcd}$$
    since
    $$\coker\lambda \circ \im\varphi = (h \circ \coker\varphi) \circ \im\varphi = h \circ (\coker\varphi \circ \im\varphi) = 0$$
    and so $\im\varphi$ is initial, as desired.
  \end{proof}
\end{lem}

\begin{lem}\label{lem8}
  Let $\varphi : A \rightarrow B$ be a morphism in an abelian category.
  If $\im\varphi : K \rightarrow B$ is the image of $\varphi$, then the induced morphism $A \rightarrow K$ is an epimorphism.
  Dually, if $\coim\varphi : A \rightarrow C$ is the coimage of $\varphi$, then the induced morphism $C \rightarrow B$ is a monomorphism.

  \begin{proof}
    Again, we prove the result for $\im\varphi$ and note that the dual statement follows by passing to the opposite category.
    We wish to show that $\tilde{\varphi} : A \rightarrow K$ is an epimorphism, which in an abelian category is equivalent to showing that it has cokernel $K \rightarrow 0$.
    Note that by Lemma~\ref{lem2}, $\coker\varphi$ is epic, so by Lemma~\ref{lem4} it is the cokernel of its kernel,
    $$\coker\tilde{\varphi} = \coker(\ker(\coker\tilde{\varphi})) = \coker(\im\tilde{\varphi}).$$
    We have the commutative diagram 
    $$\begin{tikzcd}
      A \arrow[bend right]{rr}{\tilde{\varphi}} \arrow[bend left]{rrr}{\varphi}\arrow{r} & K^\prime \arrow{r}{\im\tilde{\varphi}}& K \arrow{r}{\im\varphi}& B
    \end{tikzcd}$$
    by the previous Lemma.
    Compressing this diagram, we see the commutative diagram
    $$\begin{tikzcd}
      & K \arrow{rd}{\im\varphi} \arrow[dotted]{d}{\exists !h}&\\
      A \arrow[bend right]{rr}{\varphi} \arrow{r} \arrow{ru}{\tilde{\varphi}} & K^\prime \arrow{r}{\psi}& B
    \end{tikzcd}$$
    since $\psi = \im\varphi \circ \im\tilde{\varphi}$ is a monomorphism and the arrow $\im\varphi : K \rightarrow B$ is initial amongst all monomorphisms through which $\varphi$ factors by the previous Lemma.
    Now we see that 
    $$\im\varphi \circ 1_K = \im\varphi = \psi \circ h = (\im\varphi \circ \im\tilde{\varphi}) \circ h = \im\varphi \circ (\im\tilde{\varphi} \circ h)$$
    and since $\im\varphi$ is a monomorphism, it follows that $\im\tilde{\varphi} \circ h = 1_K$.
    Now we note that we have the commutative diagram
    $$\begin{tikzcd}
      & K^\prime \arrow{d}{\im\tilde{\varphi}} \arrow[bend left]{rdd}{\im\tilde{\varphi}}&\\
      & K \arrow{d}{h} \arrow{rd}{1_K}& \\
      A \arrow{ruu}\arrow{r}\arrow[bend right]{rr}{\tilde{\varphi}} & K^\prime \arrow{r}{\im\tilde{\varphi}}& K
    \end{tikzcd}$$
    which, by uniqueness from the previous Lemma, forces $h \circ \im\tilde{\varphi} = 1_{K^\prime}$.
    Therefore $\im\tilde{\varphi}$ is an isomorphism, hence an epimorphism, and $\coker\tilde{\varphi} = \coker(\im\tilde{\varphi}) = 0$, as desired.
  \end{proof}
\end{lem}

\begin{thm}\label{thm1}
  Every morphism $\varphi : A \rightarrow B$ in an abelian category may be decomposed as
  $$\begin{tikzcd}
    A \arrow[bend left]{rrr}{\varphi} \arrow{r}{\coim{\varphi}}& C \arrow{r}{\tilde\varphi}& K \arrow{r}{\im\varphi}& B
  \end{tikzcd}$$
  where $\tilde\varphi$ is a uniquely determined isomorphism.

  \begin{proof}
    By Lemma~\ref{lem8}, the induced morphisms $\alpha : A \rightarrow K$ and $\beta : C \rightarrow B$ are, respectively, an epimorphism and a monomorphism, so by Lemma~\ref{lem7} we have the commutative diagram
    $$\begin{tikzcd}
      & K \arrow{rd}{\im\varphi} \arrow[dotted]{d}{\exists ! \psi}& \\
      A \arrow[bend right]{rr}{\varphi}\arrow{ru}\arrow{r}{\coim\varphi} & C \arrow{r} & B
    \end{tikzcd}$$
    We show that $\psi$ is an isomorphism.
    First assume that $\zeta : Z \rightarrow K$ is a morphism such that $\psi \circ \zeta = 0$.
    Then we see that
    $$0 = \psi \circ \zeta = \beta \circ (\psi \circ \zeta) = (\beta \circ \psi) \circ \zeta = \im\varphi \circ \zeta$$
    implies that $\zeta = 0$ since $\im\varphi$ is a monomorphism, so it follows that $\psi$ is a monomorphism.
    Now assume $\zeta : K \rightarrow Z$ is a morphism such that $\zeta \circ \psi = 0$.
    Then from
    $$0 = \zeta \circ \psi = (\zeta \circ \psi) \circ \alpha = \zeta \circ (\psi \circ \alpha) = \zeta \circ \coim\varphi$$
    it follows that $\zeta = 0$ since $\coim\varphi$ is an epimorphism, so that $\psi$ is also an epimorphism.
    Therefore $\psi$ is an isomorphism by Lemma~\ref{lem6} and we take $\tilde{\varphi} = \psi^{-1}$.
  \end{proof}
\end{thm}

\begin{lem}\label{lem9}
  Assume $\mathcal{A}$ is an abelian category.
  If $f : A \rightarrow B$ is any morphism and $g : B \rightarrow C$ is a monomorphism, then $\ker g \circ f = \ker f$.

  \begin{proof}
    Since kernels are universal, it suffices only to show that $\ker f$ satisfies the universal property for $\ker g \circ f$.
    To that end, suppose $\zeta : Z \rightarrow A$ is any morphism such that $(g \circ f) \circ \zeta = 0$.
    Since $g$ is a monomorphism, 
    $$0 = (g \circ f) \circ \zeta = g \circ (f \circ \zeta)$$
    implies $f \circ \zeta = 0$ and thus we have the kernel diagram
    $$\begin{tikzcd}
      Z \arrow[dotted,swap]{rd}{\exists !h} \arrow{r}{\zeta}\arrow[bend left]{rr}{0} & A \arrow{r}{g \circ f} & C\\
      & K\arrow{u}{\ker f} &
    \end{tikzcd}$$
    Therefore $\ker f = \ker g \circ f$.
  \end{proof}
\end{lem}
\begin{ex}
  Let $F : \mathcal{A} \rightarrow \mathcal{B}$ be an additive functor between abelian categories.
  Show that $F$ is left exact if and only if exactness of $0 \rightarrow A \rightarrow B \rightarrow C$ implies exactness of $0 \rightarrow F(A) \rightarrow F(B) \rightarrow F(C)$.

  \begin{proof}
    Assume that $F$ is left exact.
    Given an exact sequence
    $$\begin{tikzcd}
      0 \arrow{r} & A \arrow{r}{f} & B \arrow{r}{g} & C
    \end{tikzcd}$$
    then, by Theorem~\ref{thm1}, we may factor $g$ as
    $$\begin{tikzcd}
      B \arrow{d}{\varphi}\arrow{r}{g} & C\\
      K \arrow[swap]{ur}{\im g}
    \end{tikzcd}$$
    with $\varphi$ an epimorphism.
    Since $\im g$ is a monomorphism,
    $$0 = g \circ f = (\im g \circ \varphi) \circ f = \im g \circ (\varphi \circ f)$$
    implies that $\varphi \circ f = 0$ and so we may form the complex
    $$\begin{tikzcd}
      0 \arrow{r} & A \arrow{r}{f} & B \arrow{r}{\varphi} & C^\prime \arrow{r} & 0.
    \end{tikzcd}$$
    which is exact since $\varphi$ is an epimorphism and, by Lemma~\ref{lem9},
    $$\im f = \ker g = \ker(\im g \circ \varphi) = \ker \varphi.$$
    Hence we have an exact sequence of $\mathcal{B}$, 
    $$\begin{tikzcd}
      0 \arrow{r} & F(A) \arrow{r}{F(f)} & F(B) \arrow{r}{F(\im g)} & F(C^\prime).
    \end{tikzcd}$$
    By functoriality we have $F(g) = F(\im g) \circ F(\varphi)$ and so by Lemma 9 $\ker F(g) = \ker F(\varphi) = \im F(f)$.
    Therefore
    $$\begin{tikzcd}
      0 \arrow{r} & F(A) \arrow{r}{F(f)} & B \arrow{r}{F(g)} & F(C)
    \end{tikzcd}$$
    is exact, as desired.

    Conversely, suppose the second condition holds.
    Given a short exact sequence
    $$\begin{tikzcd}
      0 \arrow{r} & A \arrow{r}{f} & B \arrow{r}{g} & C\arrow{r} & 0
    \end{tikzcd}$$
    the sequence
    $$\begin{tikzcd}
      0 \arrow{r} & A \arrow{r}{f} & B \arrow{r}{g} & C
    \end{tikzcd}$$
    is exact and thus by assumption so is
    $$\begin{tikzcd}
      0 \arrow{r} & F(A) \arrow{r}{F(f)} & B \arrow{r}{F(g)} & F(C)
    \end{tikzcd}.$$
    Therefore $F$ is left exact, as desired.
  \end{proof}
\end{ex}

%\begin{lem}\label{lem10}
%  Let $\mathcal{A}$ be an abelian category.
%  Given a short exact sequence
%  $$\begin{tikzcd}
%    0 \arrow{r} & A \arrow{r}{f} & B \arrow{r}{g} & P \arrow{r} & 0
%  \end{tikzcd}$$
%  with $P$ a projective object of $\mathcal{A}$, then $B \cong A \oplus P$.

%  \begin{proof}
%    Since $P$ is projective, we have the diagram
%    $$\begin{tikzcd}
%      & \arrow[dotted,swap]{ld}{\exists h}P\arrow{d}{\operatorname{id}} \\
%      B \arrow{r}{g}& P\arrow{r} & 0
%    \end{tikzcd}$$
%    which induces, by the universal property for coproducts, the diagram
%    $$\begin{tikzcd}
%      A \arrow[bend right]{rdd}{f}\arrow{rd} & & P \arrow{ld}\arrow[bend left]%{ldd}{h}\\
%      & B \oplus P \arrow{d}{\exists ! f \oplus h}&\\
%      & B. &
%    \end{tikzcd}$$
%    Hence we have the commutative diagram
%    $$\begin{tikzcd}
%      0 \arrow{r} & A \arrow{r}\arrow{d}{\operatorname{id}} & B \oplus P \arro%w{d}{f \oplus h}\arrow{r} & P \arrow{d}{\operatorname{id}}\arrow{r} & 0\\
%      0 \arrow{r} & A \arrow{r}{f} & B \arrow{r}{g} & P \arrow{r} & 0
%    \end{tikzcd}$$
%    and we see that $f \oplus h$ is an isomorphism by the Short Five Lemma.
%  \end{proof}
%\end{lem}

\begin{lem}\label{lem10}
  Let $P$ be a projective object of an abelian category.
  If $A$ is a summand of $P$ (i.e. $P \cong A \oplus B$), then $A$ is projective.
  \begin{proof}
    Suppose we are given a diagram
    $$\begin{tikzcd}
      & A \arrow{d}{f} &\\
      C \arrow{r} & D \arrow{r} & 0.
    \end{tikzcd}$$
    Composing with the projection from $P$ gives us a lift by projectivity
    $$\begin{tikzcd}
      & P\arrow{d}\arrow[dotted,swap]{ddl}{\exists h} & \\
      & A \arrow{d}{f} &\\
      C \arrow{r} & D \arrow{r} & 0
    \end{tikzcd}$$
    and using the coproduct injection yields the commutative diagram
    $$\begin{tikzcd}
      & P \arrow{d}\arrow[swap]{ddl}{h} & A \arrow{l} \arrow{ld}{\operatorname{id}_A}\\
      & A \arrow{d}{f} &\\
      C \arrow{r} & D \arrow{r} & 0,
    \end{tikzcd}$$
    giving the desired lift $A \rightarrow C$.
  \end{proof}
\end{lem}

\begin{lem}\label{lem11}
  Suppose $\left\{P_i\right\}_I$ is a family of projectives in an abelian category and
  $$P = \bigoplus_{i \in I} P_i.$$
  exists.
  Then $P$ is projective.
  
  \begin{proof}
    Suppose we are given a diagram
    $$\begin{tikzcd}
      & P \arrow{d}{f} &\\
      C \arrow{r} & D \arrow{r} & 0.
    \end{tikzcd}$$
    For each $i \in I$, composing with the coproduct injection yeilds a morphism $f_i : P_i \rightarrow P \rightarrow D$ and hence a diagram
    $$\begin{tikzcd}
      & P_i \arrow{d}{f_i}\arrow[dotted,swap]{ld}{\exists h_i} &\\
      C \arrow{r} & D \arrow{r} & 0.
    \end{tikzcd}$$
    Then by the universal property for $P$, we obtain a unique morphism $h : P \rightarrow C$ making every triangle
    $$\begin{tikzcd}
      P_i \arrow{r}\arrow[swap]{rd}{h_i} & P \arrow{d}{h}\\
      & C
    \end{tikzcd}$$
    commute.
    Then we see that we may extend the diagram to obtain a unique morphism $P \rightarrow D$ making the outer triangle in the diagram
    $$\begin{tikzcd}
      P_i \arrow[swap,bend right]{rdd}{f_i} \arrow{r}\arrow[swap]{rd}{h_i} & P \arrow{d}{h}\arrow[dotted, bend left]{dd}{\exists !}\\
      & C \arrow{d}\\
      & D
    \end{tikzcd}$$
    commute.
    However, $f$ makes this triangle commute by construction, so we see that $h$ is the desired lift.
    Therefore $P$ is projective.
  \end{proof}
\end{lem}

\begin{ex}
  Show that a chain complex $P$ is a projective object in the category of chain complexes if and only if it is a split exact complex of projectives.

  \begin{proof}
    Suppose $P$ is projective.
    Consider the surjection $\pi : \cone{P}[1] \rightarrow P$ given by projection onto the first coordinate.
    Since $P$ is projective, there exists a lift of the identity on $P$
    $$\begin{tikzcd}
      & P \arrow{d}\arrow[dotted,swap]{ld}{\exists h} &\\
      \cone{P}[1] \arrow{r}{\pi} & P \arrow{r} & 0
    \end{tikzcd}$$
    which, when composed with projection on the second coordinate, gives a morphism for each $n$
    $$\begin{tikzcd}
      P_n \arrow[swap]{rd}{s_n}\arrow{r}{h_n} & P_n \oplus P_{n+1}\arrow{d}\\
      & P_{n+1}.
    \end{tikzcd}$$
    Since $h$ is a chain map and $h(p) = (p, s(p))$, we see that by chasing the diagram
    $$\begin{tikzcd}
      P_n \arrow{d}{h} \arrow{r}{d} & P_{n-1}\arrow{d}{h}\\
      P_n \oplus P_{n+1} \arrow{r} & P_{n-1} \oplus P_{n}
    \end{tikzcd}$$
    that
    $$hd(p) = (d(p), p - ds(p)) = (d(p), sd(p)) = dh(p)$$
    and so it follows that $p = ds(p) + sd(p)$.
    Hence $\operatorname{id}_p$ is null homotopic and so $P$ is split exact.

    To see $P$ is projective in each degree, fix an integer $n$ and consider a diagram
    $$\begin{tikzcd}
      & P_n\arrow{d}{f} & \\
      N \arrow{r}{g} & M\arrow{r} & 0.
    \end{tikzcd}$$
    Define the complexes
    $$M_\bullet: \cdots \rightarrow 0 \rightarrow M \rightarrow M \rightarrow 0 \rightarrow \cdots$$
    and
    $$N_\bullet: \cdots \rightarrow 0 \rightarrow N \rightarrow N \rightarrow 0 \rightarrow \cdots$$
    with all entries 0 except in the $n+1^\text{st}$ and $n^\text{th}$ position, and the only non-zero arrow the identity.
    It's clear that we have a surjective morphism of complexes
    $$\begin{tikzcd}
      \cdots \arrow{r} & 0 \arrow{d} \arrow{r} & N \arrow{r}{1}\arrow{d}{g} & N \arrow{r}\arrow{d}{g} & 0 \arrow{d} \arrow{r} & \cdots\\
      \cdots \arrow{r} & 0 \arrow{r} & M \arrow{r}{1} & M \arrow{r} & 0 \arrow{r} & \cdots
    \end{tikzcd}$$
    Now, we observe that for each $k$ we may write $P_k \cong B_k(P) \oplus B_{k-1}(P)$ and so we obtain a diagram
    $$\begin{tikzcd}
      B_n(P)\arrow{d}\arrow{rd} & & B_{n+1}(P)\arrow{dl}\arrow[bend left]{ddl}{0}\\
      P_n\arrow[bend right]{rd}{f} & P_{n+1}\arrow[dotted]{d}{\exists! f \oplus 0} &\\
      & M &
    \end{tikzcd}$$
    which induces a map of complexes
    $$\begin{tikzcd}
      \cdots \arrow{r} & P_{n+2}\arrow{d}{0} \arrow{r} & P_{n+1} \arrow{d}{f \oplus 0}\arrow{r} & P_n \arrow{d}{f}\arrow{r} & P_{n-1} \arrow{d}{0}\arrow{r} & \cdots\\
      \cdots \arrow{r} & 0 \arrow{r} & M \arrow{r}{1} & M \arrow{r} & 0 \arrow{r} & \cdots
    \end{tikzcd}$$
    by the construction of $f \oplus 0$.
    %since for each $k$ the differential on $P$ factors as
    %$$\begin{tikzcd}
    %B_{k+1}(P) \oplus B_k(P) \arrow{rd}{d}\arrow{r}{0 \oplus 1} & B_{k}(P) \arrow[hookrightarrow]{d}\\
    %& B_{k}(P) \oplus B_{k-1}(P)
    %\end{tikzcd}$$
    %and $f \oplus 0$ maps $B_{n+1}$ to zero, making the left most square commute.
    %Moreover, the map $f \oplus 0$ was constructed to be the image of $fd$, making the next square to the right commute.
    %All the remaining squares commute trivially.
    This induces a diagram of complexes since $P$ is projective
    $$\begin{tikzcd}
      & P\arrow{d}\arrow[dotted,swap]{ld}{\exists h} & \\
      N_\bullet \arrow{r} & M_\bullet \arrow{r} & 0
    \end{tikzcd}$$
    and we take the map $h_n: P_n \rightarrow N$ to be the desired lift.
    Therefore $P$ is a split exact sequence of projectives.

    Conversely, suppose $P$ is a split exact complex of projectives.
    Since $P$ is split exact, we have $P_n \cong B_n(P) \oplus B_{n-1}(P)$ and the differential on $P$ factors through $B_{n-1}(P)$ as
    $$\begin{tikzcd}
      B_n(P) \oplus B_{n-1}(P) \arrow{r}{0 \oplus 1} \arrow[swap]{rd}{d} & B_{n-1}(P) \arrow{d}{\operatorname{id}_{B_{n-1}(P)}}\\
      & B_{n-1}(P) \oplus B_{n-2}(P).
    \end{tikzcd}$$
    For each $n$, let $B_{n,\bullet}$ be the complex $B_{n,n+1} = B_n(P) = B_{n,n}$, $B_{n,k} = 0$ for all other $k$, and differential zero except for the identity map $B_{n,n+1} \rightarrow B_{n,n}$.
    Consider the direct sum of these complexes,
    $$B_\bullet = \bigoplus_{n \in \Z} B_{n,\bullet}.$$
    By construction, unless $k = n$ or $k = n - 1$, $B_{k,n} = 0$ and so
    $$B_n = \bigoplus_{k \in \Z} B_{k,n} = B_{n,n} \oplus B_{n,n-1} = B_n(P) \oplus B_{n-1}(P) \cong P_n.$$
    Now it's easy to see that the differential on $B_\bullet$, which is induced by the universal property for coproducts,
    $$\begin{tikzcd}
      B_n(P) \arrow{rd} \arrow[bend right]{rdd}{0} & & B_{n-1}(P) \arrow[bend left]{ldd}{\operatorname{id}_{B_{n-1}(P)}}\arrow{ld}\\
      & B_n \arrow[dotted]{d}{\exists !} &\\
      & B_{n-1}&
    \end{tikzcd}$$
    is, by uniqueness, just the differential on $P$, so that we have recovered $P$ as a direct sum of complexes.
    By Lemma~\ref{lem11}, we are reduced to showing that for each $n$, $B_{n,\bullet}$ is projective.

    Fix an $n$ and suppose we are given a diagram of complexes
    $$\begin{tikzcd}
      & B_{n,\bullet}\arrow{d}{f} &\\
      C\arrow{r}{g} & D\arrow{r} & 0.
    \end{tikzcd}$$
    We have maps
    $$\begin{tikzcd}
      \cdots \arrow{r} & 0 \arrow{d} \arrow{r} & B_n(P) \arrow{d}{f_{n+1}} \arrow{r} & B_n(P) \arrow{d}{f_n} \arrow{r} & 0 \arrow{d} \arrow{r} & \cdots\\
      \cdots \arrow{r} & D_{n+2} \arrow{r} & D_{n+1} \arrow{r} & D_n \arrow{r} & D_{n-1} \arrow{r} & \cdots\\
    \end{tikzcd}$$
    so by Lemma~\ref{lem10} we obtain a lift
    $$\begin{tikzcd}
      & B_n(P) \arrow[dotted,swap]{dl}{\exists h_{n+1}}\arrow{d}{f_{n+1}} &\\
      C_{n+1} \arrow{r}{g_{n+1}} & D_{n+1} \arrow{r} & 0.
    \end{tikzcd}$$
    If we let $h_n = d^C h_{n+1}$, then it's clear that the diagram
    $$\begin{tikzcd}
      \cdots \arrow{r} & 0 \arrow{d} \arrow{r} & B_n(P) \arrow{r} \arrow{d}{h_{n+1}}& B_n(P) \arrow{d}{h_n} \arrow{r} & 0 \arrow{r}\arrow{d} & \cdots\\
      \cdots \arrow{r} & C_{n+1} \arrow{r} & C_{n+1} \arrow{r} & C_n \arrow{r} & C_{n-1} \arrow{r} & \cdots
    \end{tikzcd}$$
    commutes so that $h : B_{n,\bullet} \rightarrow C$ is a chain map.

    Finally, we check that for each $k$, $g_kh_k = f_k$.
    For $k \neq n$ and $k \neq n+1$, it's clear that the all the maps are zero.
    When $k = n+1$, we have constructed $h_{n+1}$ such that $g_{n+1} h_{n+1} = f_{n+1}$, so it remains only to check for $k = n$.
    Using the fact that $g$, $h$, and $f$ are chain maps and that the differential $B_n(P) \rightarrow B_n(P)$ is the identity, we obtain
    \begin{eqnarray*}
      g_n h_n &=& g_n (d_{n+1}^C h_{n+1})\\
      &=& (g_n d_{n+1}^C) h_{n+1}\\
      &=& (d_{n+1}^D g_{n+1}) h_{n+1}\\
      &=& d_{n+1}^D (g_{n+1} h_{n+1})\\
      &=& d_{n+1}^D f_{n+1}\\
      &=& f_n,
    \end{eqnarray*}
    as desired.
    Therefore $B_{n,\bullet}$ is projective.
    %For each $n$, the composition with the coproduct injection yields a map to $D$
    %$$\begin{tikzcd}
    %  B_{n,\bullet} \arrow{r} & P \cong \bigoplus_{k \in \Z} B_{k,\bullet} \arrow{r}{f} & D
    %\end{tikzcd}$$
    %and, since $B_n(P)$ is projective by Lemma~\ref{lem10}, we obtain a lift
    %$$\begin{tikzcd}
    %  & B_n(P)\arrow{d}{f}\arrow[swap,dotted]{ld}{\exists h_n} &\\
    %  C_n \arrow{r}{g_n} & D_n\arrow{r} & 0.
    %\end{tikzcd}$$
  \end{proof}
\end{ex}
\end{document}
